{%- macro errors(field, description=None) -%}
    {%- if field.errors %}
      {%- for error in field.errors %}
        <p class="help-block">{{error|safe}}</p>
      {%- endfor %}
    {%- elif field.description -%}
      <p class="help-block">{{field.description|safe}}</p>
    {%- elif description -%}
      <p class="help-block">{{description|safe}}</p>
    {%- endif %}
{%- endmacro %}

{%- macro form_field(field, description=None, class=None) -%}
    <div class="form-group{% if field.errors %} has-error{% endif %}">
        {{field.label(class="form-label small-caps")}}
        {{field(class=class, **kwargs)|safe}}{{errors(field, description)}}
    </div>
{%- endmacro %}
